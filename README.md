# 🏎️ F1 Car Setup Optimizer

An interactive web application that acts as an F1 engineering "workbench," using Bayesian Optimization to find the optimal car setup for specific tracks and performance goals. This tool allows users to explore trade-offs between lap time, tire preservation, and handling in a dynamic, visual interface.

---

## ✨ Key Features

* **Interactive Setup Workbench:**
    * A modern UI built with Streamlit where users can adjust core car setup parameters (wing angles, ride height, suspension, brake bias) using interactive sliders.
    * A live-updating **Radar Chart** provides immediate visual feedback on the car's performance balance (Top Speed, Cornering Grip, Stability, Tire Life).
    * A **Simulated Telemetry Trace** visualizes the car's speed profile over a generic lap, instantly updating as sliders are moved.

* **AI-Powered Optimization:**
    * **Bayesian Optimization:** Utilizes `scikit-optimize` to intelligently search the vast parameter space for the best setup, avoiding inefficient brute-force methods.
    * **Multi-Objective Tradeoffs:**
        * **Weighted Optimization:** Find a single optimal setup based on user-defined weights for lap time, tire preservation, and handling balance.
        * **Pareto Front Analysis:** Run a more advanced optimization to discover the entire frontier of optimal trade-offs between lap time and tire preservation, visualized on an interactive scatter plot.

* **Analysis and Workflow Tools:**
    * **Track-Specific Context:** Choose from a list of F1 circuits, each with a visual layout and unique `base_lap_time` that influences the optimization.
    * **Setup Comparison:** Save two different setups to "Slot A" and "Slot B" for a direct side-by-side comparison of their stats, balance profiles, and telemetry traces.
    * **Preset Archetypes:** Quickly load common setup types like "Max Downforce" or "Low Drag" to use as a starting point.
    * **Export & Share:**
        * Download the current setup as a clean JSON or printable PDF report.
        * Generate a shareable URL that loads the application with the specific setup parameters pre-filled.

---

## 🛠️ Technologies Used

* **Core:** Python 3.10+
* **Optimization & Machine Learning:** `scikit-optimize` (for Bayesian Optimization), `scikit-learn` & `joblib` (for the underlying lap time prediction model).
* **Data Handling:** NumPy, Pandas
* **User Interface & Visualization:** Streamlit, Plotly
* **PDF Generation:** `fpdf2`

---

## 🧱 Project Structure

```bash
F1-car-setup-optimizer/
│
├── data/
│   └── historic_setups.csv    # Example data for recommender
│
├── models/
│   └── lap_time_predictor.pkl   # Pre-trained ML model that predicts lap time
│
├── src/
│   ├── app.py                   # The main Streamlit application script
│   └── optimizer.py             # Contains the Bayesian optimization logic
│
├── notebooks/
│   └── EDA.ipynb              # Exploratory Data Analysis notebook
│
├── train_model.py             # Script to train the ML model
├── requirements.txt           # Python package dependencies
└── README.md                  # This file
```

---

## 🚀 Getting Started

### Prerequisites

* Python 3.10 or newer.
* `pip` for package installation.

### Installation

1.  **Clone the repository:**
    ```bash
    git clone [https://github.com/rembertdesigns/F1-car-setup-optimizer.git](https://github.com/rembertdesigns/F1-car-setup-optimizer.git)
    cd F1-car-setup-optimizer
    ```

2.  **Create and activate a virtual environment (recommended):**
    ```bash
    python3 -m venv venv
    source venv/bin/activate  # On macOS/Linux
    # On Windows: venv\Scripts\activate
    ```

3.  **Install dependencies:**
    ```bash
    pip install -r requirements.txt
    ```

### Running the Application

1.  **Train the Prediction Model:** The optimizer requires a trained lap time model. If `models/lap_time_predictor.pkl` is not present, you must first train it by running `train_model.py`. This script may require a dataset, which can be generated by a separate data simulation script if needed.

2.  **Launch the Streamlit App:**
    From the project's root directory, run the following command:
    ```bash
    streamlit run src/app.py
    ```
    Open the URL provided in your terminal (usually `http://localhost:8501`) in your web browser.

---

## 🛣️ Future Enhancements

* **Full Race Stint Simulation:** Integrate the logic from the Pit Stop Simulator to run a multi-lap stint with a given setup, showing how lap times degrade as tires wear out over time.
* **Setup Sensitivity Analysis:** After finding an optimal setup, allow users to analyze how sensitive the lap time is to small changes in a single parameter, visualizing the performance "cliff."
* **Advanced Physics Model:** Replace the formula-based telemetry/lap time functions with a more detailed physics model that accounts for weight transfer, suspension geometry, and more nuanced aerodynamics.
* **User Accounts & Saved Setups:** Implement a simple database backend to allow users to save, name, and manage a library of their favorite setups across sessions.

---

## 📄 License

This project is licensed under the MIT License.
